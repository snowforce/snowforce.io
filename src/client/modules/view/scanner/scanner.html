<template>
  <div class="container">
    <button onclick={captureNewLead}>Scan New Badge</button>
    <div class="loading-container" if:false={haveCameraAccess}>
      <p>
        âŒ› Loading video...
      </p>
    </div>
    <div if:false={haveQrCode}>
      <canvas height="480" width="640"></canvas>
      <div>
        <div if:false={haveQrCode}>
          No QR Code Detected
        </div>
        <div if:true={haveQrCode}>
          {qrCodeResult}
        </div>
      </div>
    </div>
    <div if:true={haveQrCode}>
      <form action="">
        <div class="input-container">
          <div>
            <label for="userName">Scan</label>
            <input type="text" name="Scan" id="userScan" value={qrCodeResult} />
          </div>
          <div>
            <label for="userName">Name</label>
            <input type="text" name="Name" id="userName" />
          </div>
          <div>
            <label for="userEmail">Email</label>
            <input type="email" name="Email" id="userEmail" />
          </div>
          <div>
            <label for="userNotes">Notes</label>
            <textarea name="Notes" cols="40" rows="5" id="userNotes">
            </textarea>
          </div>
        </div>
      </form>
    </div>
  </div>
</template>
